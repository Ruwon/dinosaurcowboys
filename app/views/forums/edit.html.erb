<div class="panel">
  <h1 class="forum-title">
    <%= link_to "Forums", forums_path %> /
    <%= link_to @forum, forum_path(@forum) %>

    <% if can? :destroy, @forum %>
    <ul class="actions">
      <li><%= link_to "Delete Forum", forum_path(@forum), method: :delete, confirm: "Are you sure?" %></li>
    </ul>
    <% end %>
  </h1>

  <%= form_for(@forum) do |f| %>
    <div>
      <%= f.label(:name) %><br />
      <%= f.text_field(:name) %>
    </div>

    <div>
      <h2>Readable Ranks</h2>
      <%= hidden_field_tag "forum[readable_rank_ids][]", nil %>
      <% Rank.all.each do |rank| %>
        <%= check_box_tag "forum[readable_rank_ids][]", rank.id, @forum.readable_rank_ids.include?(rank.id), id: dom_id(rank) %>
        <%= label_tag dom_id(rank), rank.name %><br>
      <% end %>
    </div>

    <div>
      <h2>Writable Ranks</h2>
      <%= hidden_field_tag "forum[writable_rank_ids][]", nil %>
      <% Rank.all.each do |rank| %>
        <%= check_box_tag "forum[writable_rank_ids][]", rank.id, @forum.writable_rank_ids.include?(rank.id), id: dom_id(rank) %>
        <%= label_tag dom_id(rank), rank.name %><br>
      <% end %>
    </div>

    <div>
      <%= f.submit "Update" %>
    </div>
  <% end %>
</div>